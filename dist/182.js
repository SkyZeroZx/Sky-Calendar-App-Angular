"use strict";(self.webpackChunksky_calendar_app=self.webpackChunksky_calendar_app||[]).push([[182],{5182:function(xe,C,s){s.r(C),s.d(C,{AuthLayoutModule:function(){return Ze}});var g=s(3144),m=s(5671),p=s(4035),d=s(9808),i=s(2382),x=s(4244),h=s(7556),e=s(7154),k=new x.N0,y=function(){var o=function(){function r(t,n){(0,m.Z)(this,r),this.router=t,this.authService=n}return(0,g.Z)(r,[{key:"canActivate",value:function(){if(console.log("Auth Guard Check Login"),null===localStorage.getItem("user"))return localStorage.clear(),!0;if(k.decodeToken(JSON.parse(localStorage.getItem("user")).token.firstLogin))return localStorage.clear(),!0;switch(console.log("El rol es ",this.authService.getItemToken("role")),this.authService.getItemToken("role")){case"admin":console.log("Entre aca admin"),this.router.navigate(["/calendar-admin"]);break;case"viewer":console.log("Entre aca viewer"),this.router.navigate(["/calendar-view"])}}}]),r}();return o.\u0275fac=function(t){return new(t||o)(e.LFG(p.F0),e.LFG(h.e))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),v=s(5020),O=s(5226),A=s.n(O),_=s(2290);function q(o,r){1&o&&(e.TgZ(0,"small",29),e._uU(1," Debe ingresar un Email valido"),e.qZA())}function F(o,r){1&o&&(e.TgZ(0,"small",30),e._uU(1," Se requiere ingresar Email"),e.qZA())}function I(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"small",27),e.YNc(2,F,2,0,"small",28),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.username.errors?null:t.loginForm.controls.username.errors.email),e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.username.errors?null:t.loginForm.controls.username.errors.required)}}function N(o,r){1&o&&(e.TgZ(0,"small",33),e._uU(1," La longitud minima es 6 caracteres"),e.qZA())}function M(o,r){1&o&&(e.TgZ(0,"small",34),e._uU(1," Se requiere ingresar password"),e.qZA())}function U(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"small",31),e.YNc(2,M,2,0,"small",32),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.password.errors?null:t.loginForm.controls.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.password.errors?null:t.loginForm.controls.password.errors.required)}}var S=function(){var o=function(){function r(t,n,a,l){(0,m.Z)(this,r),this.authService=t,this.fb=n,this.router=a,this.toastrService=l,this.show_button=!1,this.show_eye=!1}return(0,g.Z)(r,[{key:"ngOnInit",value:function(){localStorage.clear(),this.crearFormularioLogin()}},{key:"showPassword",value:function(){this.show_button=!this.show_button,this.show_eye=!this.show_eye}},{key:"crearFormularioLogin",value:function(){this.loginForm=this.fb.group({username:new i.NI("",[i.kI.required,i.kI.email,i.kI.minLength(6),i.kI.maxLength(50)]),password:new i.NI("",[i.kI.required,i.kI.minLength(6)])})}},{key:"onLogin",value:function(){var n=this;this.authService.login(this.loginForm.value).subscribe({next:function(c){c.message==v.s.MENSAJE_OK?c.firstLogin?n.alertFirstLogin():n.router.navigate("admin"==c.role?["/calendar-admin"]:["/calendar-view"]):n.toastrService.error(c.message,"Error",{timeOut:3e3})},error:function(c){n.toastrService.error("Error al logearse"+c,"Error",{timeOut:3e3})}})}},{key:"alertFirstLogin",value:function(){var n=this;A().fire({title:"Es su primer login",text:"Se recomienda cambiar su contrase\xf1a",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(a){a.isConfirmed?n.router.navigate(["/change-password"]):localStorage.clear()})}}]),r}();return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.e),e.Y36(i.qu),e.Y36(p.F0),e.Y36(_._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:37,vars:7,consts:[[1,"header","bg-primary","py-7","py-lg-8"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"container","mt--8","pb-5"],[1,"col-lg-5","col-md-7"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-header","bg-transparent","pb-5"],[1,"card-body","px-lg-5","py-lg-5"],[1,"text-center","text-muted","mb-4"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-email-83"],["formControlName","username","maxlength","50","placeholder","Email","type","email",1,"form-control"],[4,"ngIf"],[1,"form-group"],[1,"ni","ni-lock-circle-open"],["formControlName","password","placeholder","Password",1,"form-control",3,"type"],["id","showPassword",1,"input-group-prepend","pointer",3,"click"],["id","eye"],[1,"text-center"],["type","submit",1,"btn","btn-primary","my-4",3,"disabled"],["id","validEmail","class","text-left",4,"ngIf"],["id","requiredEmail","class","text-left",4,"ngIf"],["id","validEmail",1,"text-left"],["id","requiredEmail",1,"text-left"],["id","minLenghtPass","class","text-left",4,"ngIf"],["id","requiredPass","class","text-left",4,"ngIf"],["id","minLenghtPass",1,"text-left"],["id","requiredPass",1,"text-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Bienvenido!"),e.qZA()()()()()(),e.TgZ(7,"div",6)(8,"div",3)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"p"),e._uU(15,"Ingrese sus credenciales"),e.qZA()(),e.TgZ(16,"form",12),e.NdJ("ngSubmit",function(){return n.onLogin()}),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"span",16),e._UZ(21,"i",17),e.qZA()(),e._UZ(22,"input",18),e.qZA(),e.YNc(23,I,3,2,"div",19),e.qZA(),e.TgZ(24,"div",20)(25,"div",14)(26,"div",15)(27,"span",16),e._UZ(28,"i",21),e.qZA()(),e._UZ(29,"input",22),e.TgZ(30,"div",23),e.NdJ("click",function(){return n.showPassword()}),e.TgZ(31,"span",16),e._UZ(32,"i",24),e.qZA()()(),e.YNc(33,U,3,2,"div",19),e.qZA(),e.TgZ(34,"div",25)(35,"button",26),e._uU(36,"Ingresar"),e.qZA()()()()()()()()()),2&t&&(e.xp6(16),e.Q6J("formGroup",n.loginForm),e.xp6(7),e.Q6J("ngIf",n.loginForm.controls.username.invalid&&n.loginForm.controls.username.touched),e.xp6(6),e.Q6J("type",n.show_button?"text":"password"),e.xp6(3),e.Tol(n.show_eye?"ni fa fa-eye":"ni fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",n.loginForm.controls.password.invalid&&n.loginForm.controls.password.touched),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.nD,d.O5],styles:[".text-left[_ngcontent-%COMP%]{color:red}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}"]}),o}();function J(o,r){1&o&&(e.TgZ(0,"small",35),e._uU(1," La longitud minima es 6 caracteres"),e.qZA())}function L(o,r){1&o&&(e.TgZ(0,"small",36),e._uU(1," Se requiere ingresar contrase\xf1a actual"),e.qZA())}function E(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,J,2,0,"small",33),e.YNc(2,L,2,0,"small",34),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.oldPassword.errors?null:t.changePasswordForm.controls.oldPassword.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.oldPassword.errors?null:t.changePasswordForm.controls.oldPassword.errors.required)}}function Y(o,r){1&o&&(e.TgZ(0,"small",39),e._uU(1," La longitud minima es 6 caracteres "),e.qZA())}function Q(o,r){1&o&&(e.TgZ(0,"small",40),e._uU(1," Se requiere ingresar nueva contrase\xf1a "),e.qZA())}function D(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Y,2,0,"small",37),e.YNc(2,Q,2,0,"small",38),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.newPassword.errors?null:t.changePasswordForm.controls.newPassword.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.newPassword.errors?null:t.changePasswordForm.controls.newPassword.errors.required)}}function j(o,r){1&o&&(e.TgZ(0,"small",43),e._uU(1," La longitud minima es 6 caracteres"),e.qZA())}function R(o,r){1&o&&(e.TgZ(0,"small",44),e._uU(1," Se requiere ingresar confirmar nueva contrase\xf1a"),e.qZA())}function B(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,j,2,0,"small",41),e.YNc(2,R,2,0,"small",42),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.confirmedPassword.errors?null:t.changePasswordForm.controls.confirmedPassword.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.changePasswordForm.controls.confirmedPassword.errors?null:t.changePasswordForm.controls.confirmedPassword.errors.required)}}function H(o,r){1&o&&(e.TgZ(0,"div")(1,"small",45),e._uU(2," La nueva contrase\xf1a y confirmacion contrase\xf1a no coinciden"),e.qZA()())}new x.N0;var G=function(){var o=function(){function r(t,n,a,l){(0,m.Z)(this,r),this.authService=t,this.fb=n,this.router=a,this.toastrService=l,this.diferent=!1,this.show_button=[!1,!1,!1],this.show_eye=[!1,!1,!1]}return(0,g.Z)(r,[{key:"ngOnInit",value:function(){this.crearFormChangePassword()}},{key:"crearFormChangePassword",value:function(){this.changePasswordForm=this.fb.group({oldPassword:new i.NI("",[i.kI.required,i.kI.minLength(6)]),newPassword:new i.NI("",[i.kI.required,i.kI.minLength(6)]),confirmedPassword:new i.NI("",[i.kI.required,i.kI.minLength(6)])})}},{key:"showPassword",value:function(n){switch(n){case 0:this.show_button[0]=!this.show_button[0],this.show_eye[0]=!this.show_eye[0];break;case 1:this.show_button[1]=!this.show_button[1],this.show_eye[1]=!this.show_eye[1];break;case 2:this.show_button[2]=!this.show_button[2],this.show_eye[2]=!this.show_eye[2]}}},{key:"onChangePassword",value:function(){var n=this;this.diferent=!1,this.changePasswordForm.value.newPassword===this.changePasswordForm.value.confirmedPassword?this.authService.changePassword(this.changePasswordForm.value).subscribe({next:function(l){if(l.message==v.s.MENSAJE_OK)if(n.authService.getItemToken("firstLogin"))n.authService.logout(),n.router.navigate(["/login"]),n.toastrService.success("Se cambio con exitosa la contrase\xf1a","Exito",{timeOut:3e3});else switch(n.toastrService.success("Se cambio con exitosa la contrase\xf1a","Exito",{timeOut:3e3}),n.authService.getItemToken("role")){case"admin":n.router.navigate(["/calendar-admin"]);break;case"estudiante":n.router.navigate(["/calendar-view"])}else n.toastrService.error(l.message,"Error",{timeOut:3e3})},error:function(l){n.toastrService.error("Error al cambiar contrase\xf1a "+l,"Error",{timeOut:5e3})}}):this.diferent=!0}},{key:"retrocederFirstLogin",value:function(){if(this.authService.getItemToken("firstLogin"))this.authService.logout(),this.router.navigate(["/login"]);else switch(this.authService.getItemToken("role")){case"admin":this.router.navigate(["/calendar-admin"]);break;case"viewer":this.router.navigate(["/calendar-view"])}}}]),r}();return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.e),e.Y36(i.qu),e.Y36(p.F0),e.Y36(_._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-change-password"]],decls:53,vars:15,consts:[[1,"header","bg-primary","py-7","py-lg-8"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"separator","separator-bottom","separator-skew","zindex-100"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-default"],[1,"container","mt--8","pb-5"],[1,"col-lg-6","col-md-8"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-body","px-lg-5","py-lg-5"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group","input-group-alternative","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-lock-circle-open"],["formControlName","oldPassword","placeholder","Contrase\xf1a Actual",1,"form-control",3,"type"],["id","showOldPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeOldPassword"],[4,"ngIf"],["formControlName","newPassword","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"type"],["id","showNewPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeNewPassword"],[1,"input-group","input-group-alternative"],["formControlName","confirmedPassword","placeholder","Confirme Nueva Contrase\xf1a",1,"form-control",3,"type"],["id","showConfirmPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeConfirmPassword"],[1,"text-center"],["id","atras","type","button",1,"btn","btn-secondary","mt-4",3,"click"],["type","submit",1,"btn","btn-primary","mt-4",3,"disabled"],["id","msgOldPasswordMin","class","text-left",4,"ngIf"],["id","msgOldPasswordReq","class","text-left",4,"ngIf"],["id","msgOldPasswordMin",1,"text-left"],["id","msgOldPasswordReq",1,"text-left"],["id","msgNewPassMin","class","text-left",4,"ngIf"],["id","msgNewPassReq","class","text-left",4,"ngIf"],["id","msgNewPassMin",1,"text-left"],["id","msgNewPassReq",1,"text-left"],["id","msgConfirPassMin","class","text-left",4,"ngIf"],["id","msgConfirPassReq","class","text-left",4,"ngIf"],["id","msgConfirPassMin",1,"text-left"],["id","msgConfirPassReq",1,"text-left"],["id","samePass",1,"text-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong")(6,"h1",5),e._uU(7,"Cambio de Contrase\xf1a"),e.qZA()()()()()(),e.TgZ(8,"div",6),e.O4$(),e.TgZ(9,"svg",7),e._UZ(10,"polygon",8),e.qZA()()(),e.kcU(),e.TgZ(11,"div",9)(12,"div",3)(13,"div",10)(14,"div",11)(15,"div",12)(16,"form",13),e.NdJ("ngSubmit",function(){return n.onChangePassword()}),e.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"span",17),e._UZ(21,"i",18),e.qZA()(),e._UZ(22,"input",19),e.TgZ(23,"div",20),e.NdJ("click",function(){return n.showPassword(0)}),e.TgZ(24,"span",17),e._UZ(25,"i",21),e.qZA()()(),e.YNc(26,E,3,2,"div",22),e.qZA(),e.TgZ(27,"div",14)(28,"div",15)(29,"div",16)(30,"span",17),e._UZ(31,"i",18),e.qZA()(),e._UZ(32,"input",23),e.TgZ(33,"div",24),e.NdJ("click",function(){return n.showPassword(1)}),e.TgZ(34,"span",17),e._UZ(35,"i",25),e.qZA()()(),e.YNc(36,D,3,2,"div",22),e.qZA(),e.TgZ(37,"div",14)(38,"div",26)(39,"div",16)(40,"span",17),e._UZ(41,"i",18),e.qZA()(),e._UZ(42,"input",27),e.TgZ(43,"div",28),e.NdJ("click",function(){return n.showPassword(2)}),e.TgZ(44,"span",17),e._UZ(45,"i",29),e.qZA()()(),e.YNc(46,B,3,2,"div",22),e.qZA(),e.YNc(47,H,3,0,"div",22),e.TgZ(48,"div",30)(49,"button",31),e.NdJ("click",function(){return n.retrocederFirstLogin()}),e._uU(50,"Atras"),e.qZA(),e.TgZ(51,"button",32),e._uU(52,"Cambiar Contrase\xf1a"),e.qZA()()()()()()()()),2&t&&(e.xp6(16),e.Q6J("formGroup",n.changePasswordForm),e.xp6(6),e.Q6J("type",n.show_button[0]?"text":"password"),e.xp6(3),e.Tol(n.show_eye[0]?"ni fa fa-eye":"ni fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",n.changePasswordForm.controls.oldPassword.invalid&&n.changePasswordForm.controls.oldPassword.touched),e.xp6(6),e.Q6J("type",n.show_button[1]?"text":"password"),e.xp6(3),e.Tol(n.show_eye[1]?"ni fa fa-eye":"ni fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",n.changePasswordForm.controls.newPassword.invalid&&n.changePasswordForm.controls.newPassword.touched),e.xp6(6),e.Q6J("type",n.show_button[2]?"text":"password"),e.xp6(3),e.Tol(n.show_eye[2]?"ni fa fa-eye":"ni fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",n.changePasswordForm.controls.confirmedPassword.invalid&&n.changePasswordForm.controls.confirmedPassword.touched),e.xp6(1),e.Q6J("ngIf",n.diferent),e.xp6(4),e.Q6J("disabled",n.changePasswordForm.invalid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.O5],styles:[".text-left[_ngcontent-%COMP%]{color:red}"]}),o}(),z=s(6951),V=s(7762),w=s(1134),K=s(5904),$=s(2340),X=s(6165),f=s(8274),b=s(1793);function W(o,r){if(1&o){var t=e.EpF();e.TgZ(0,"ul",35)(1,"li",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().suscribeToNotifications()}),e.TgZ(2,"a",37),e._UZ(3,"i",38),e.TgZ(4,"span"),e._uU(5,"Activar notificaciones"),e.qZA()()(),e.TgZ(6,"li",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveTracking()}),e.TgZ(7,"a",37),e._UZ(8,"i",40),e.TgZ(9,"span"),e._uU(10,"Guardar Tramite"),e.qZA()()(),e.TgZ(11,"li",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().listHistory()}),e.TgZ(12,"a",37),e._UZ(13,"i",42),e.TgZ(14,"span"),e._uU(15,"Ver historial"),e.qZA()()()()}}function ee(o,r){1&o&&(e.TgZ(0,"small",45),e._uU(1," La longitud minima es 14 caracteres"),e.qZA())}function te(o,r){1&o&&(e.TgZ(0,"small",46),e._uU(1," Se requiere ingresar N\xb0 Tramite para seguimiento"),e.qZA())}function oe(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"small",43),e.YNc(2,te,2,0,"small",44),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.trackingForm.controls.idDocTramite.errors?null:t.trackingForm.controls.idDocTramite.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.trackingForm.controls.idDocTramite.errors?null:t.trackingForm.controls.idDocTramite.errors.required)}}function ne(o,r){1&o&&(e.TgZ(0,"small",49),e._uU(1," La longitud minima es 8 caracteres"),e.qZA())}function re(o,r){1&o&&(e.TgZ(0,"small",50),e._uU(1," Se requiere ingresar dni para seguimiento"),e.qZA())}function ie(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ne,2,0,"small",47),e.YNc(2,re,2,0,"small",48),e.qZA()),2&o){var t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.trackingForm.controls.dni.errors?null:t.trackingForm.controls.dni.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.trackingForm.controls.dni.errors?null:t.trackingForm.controls.dni.errors.required)}}var ae=function(r){return{"job-inprogress is-active observado":r}};function se(o,r){if(1&o&&(e.TgZ(0,"li",57),e._uU(1," OBSERVADO "),e.qZA()),2&o){var t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,ae,"OBSERVADO"==t.listaDetalles[0].estado))}}var P=function(r){return{"job-inprogress is-active negative":r}},le=function(r){return{"job-inprogress is-active finalizado":r}};function ce(o,r){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"div",51)(3,"ul",52)(4,"li",53),e._uU(5," REGISTRADO "),e.qZA(),e.TgZ(6,"li",54),e._uU(7," PROCESANDO"),e.qZA(),e.YNc(8,se,2,3,"li",55),e.TgZ(9,"li",56),e._uU(10," FINALIZADO "),e.qZA()()(),e._UZ(11,"br"),e.qZA()),2&o){var t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(4,P,"REGISTRADO"==t.listaDetalles[0].estado)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,P,"PROCESANDO"==t.listaDetalles[0].estado)),e.xp6(2),e.Q6J("ngIf","OBSERVADO"==t.listaDetalles[0].estado),e.xp6(1),e.Q6J("ngClass",e.VKq(8,le,"FINALIZADO"==t.listaDetalles[0].estado))}}function de(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&o){var t=r.$implicit;e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(t.estado),e.xp6(2),e.Oqu(t.observaciones)}}function ue(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",33)(4,"a",63),e._UZ(5,"i",64),e.qZA()()()),2&o){var t=r.$implicit;e.xp6(2),e.Oqu(t.FECHA),e.xp6(2),e.s9C("href",t.URL,e.LSH)}}function ge(o,r){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,ue,6,2,"tr",34),e.qZA()),2&o){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listaAdjuntos)}}function me(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",33)(4,"a",63),e._UZ(5,"i",65),e.qZA()()()),2&o){var t=r.$implicit;e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.s9C("href",t.url,e.LSH)}}function pe(o,r){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,me,6,2,"tr",34),e.qZA()),2&o){var t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listaCertificado)}}function fe(o,r){if(1&o&&(e.TgZ(0,"ul",58)(1,"tabset",59)(2,"tab",60)(3,"div",30)(4,"table",31)(5,"thead",32)(6,"tr")(7,"th"),e._uU(8,"Fecha"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Estado"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Observacion"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,de,7,3,"tr",34),e.qZA()()()(),e.TgZ(15,"tab",61)(16,"div",30)(17,"table",31)(18,"thead",32)(19,"tr")(20,"th"),e._uU(21,"Fecha"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Descargar"),e.qZA()()(),e.YNc(24,ge,2,1,"tbody",20),e.qZA()()(),e.TgZ(25,"tab",62)(26,"div",30)(27,"table",31)(28,"thead",32)(29,"tr")(30,"th"),e._uU(31,"Fecha"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Descargar"),e.qZA()()(),e.YNc(34,pe,2,1,"tbody",20),e.qZA()()()()()),2&o){var t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.listaDetalles),e.xp6(10),e.Q6J("ngIf",t.adjuntoOk),e.xp6(10),e.Q6J("ngIf",t.certificadoOk)}}function he(o,r){if(1&o){var t=e.EpF();e.TgZ(0,"tr")(1,"td",66),e._uU(2),e.qZA(),e.TgZ(3,"td",66),e._uU(4),e.qZA(),e.TgZ(5,"td",67)(6,"i",68),e.NdJ("click",function(){var c=e.CHM(t).$implicit;return e.oxw().searchHistory(c)}),e.qZA()()()}if(2&o){var n=r.$implicit;e.xp6(2),e.Oqu(n.id_est_doc),e.xp6(2),e.Oqu(n.dni)}}var _e=[{path:"tracking",component:function(){var o=function(){function r(t,n,a,l,c){(0,m.Z)(this,r),this.fb=t,this.servicios=n,this.toastrService=a,this.swPush=l,this.route=c,this.listaAdjuntos=[],this.listaCertificado=[],this.adjuntoOk=!1,this.certificadoOk=!1,this.detalleOk=!1,this.listaTramitesGuardados=[]}return(0,g.Z)(r,[{key:"ngOnInit",value:function(){this.crearFormularioTracking(),this.suscribirClickPush()}},{key:"crearFormularioTracking",value:function(){this.trackingForm=this.fb.group({idDocTramite:new i.NI("",[i.kI.required,i.kI.minLength(14)]),dni:new i.NI("",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(8)])})}},{key:"formatData",value:function(n,a){return{id_est_doc:a,tokenPush:n}}},{key:"suscribirClickPush",value:function(){var n=this;this.route.queryParams.subscribe(function(a){void 0!==typeof a.idDocTramite&&void 0!==typeof a.dni&&0!==Object.entries(a).length&&(n.trackingForm.controls.idDocTramite.setValue(a.idDocTramite),n.trackingForm.controls.dni.setValue(a.dni))})}},{key:"saveTracking",value:function(){this.detalleOk?this.trackingForm.valid?(this.addEntry(),this.suscribeToNotifications()):this.toastrService.error("Los valores ingresados deben ser validos","Error",{timeOut:5e3}):this.toastrService.error("Debe realizar una busqueda para guardar el tramite","Error",{timeOut:5e3})}},{key:"suscribeToNotifications",value:function(){var n=this;console.log("suscribeToNotifications"),this.swPush.requestSubscription({serverPublicKey:$.N.VAPID_PUBLIC_KEY}).then(function(a){console.log("Request Tokens Subscription"),n.saveNotification(a)}).catch(function(a){console.log("Error al suscribirse",a),n.toastrService.error("Sucedio un error al suscribirse ","Error",{timeOut:5e3})})}},{key:"addEntry",value:function(){var n=JSON.parse(localStorage.getItem("tracking"));null==n&&(n=[]),n.push({id_est_doc:this.trackingForm.value.idDocTramite,dni:this.trackingForm.value.dni});var l={};n=n.filter(function(c){var u=!l[c.id_est_doc];return l[c.id_est_doc]=!0,u}),console.log("existen "+n),localStorage.setItem("tracking",JSON.stringify(n)),this.toastrService.success("Se guardo su tramite","Exito",{timeOut:5e3})}},{key:"saveNotification",value:function(n){var a=this,l=JSON.parse(localStorage.getItem("tracking"));if(null!==l){var u,c=(0,V.Z)(l);try{for(c.s();!(u=c.n()).done;)this.servicios.saveUserNotification(this.formatData(n,u.value.id_est_doc)).subscribe({next:function(Z){Z.message==v.s.MENSAJE_OK?a.toastrService.success("Las notificaciones fueron habilitadas exitosamente","Exito",{timeOut:5e3}):a.toastrService.error("Sucedio un error al suscribir sus notificaciones","Error",{timeOut:5e3})},error:function(Z){a.toastrService.error("Sucedio un error al suscribir sus notificaciones "+Z,"Error",{timeOut:5e3})}})}catch(T){c.e(T)}finally{c.f()}}}},{key:"listHistory",value:function(){this.modalHistory.show(),this.listaTramitesGuardados=JSON.parse(localStorage.getItem("tracking"))}},{key:"searchHistory",value:function(n){this.trackingForm.controls.idDocTramite.setValue(n.id_est_doc),this.trackingForm.controls.dni.setValue(n.dni)}},{key:"limpiarTabla",value:function(){this.adjuntoOk=!1,this.certificadoOk=!1,this.detalleOk=!1}}]),r}();return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(K.C),e.Y36(_._W),e.Y36(X.Mk),e.Y36(p.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tracking"]],viewQuery:function(t,n){var a;1&t&&e.Gf(w.oB,5),2&t&&e.iGM(a=e.CRH())&&(n.modalHistory=a.first)},decls:57,vars:8,consts:[[1,"header","bg-primary","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],["id","hamburgerButton"],["dropdown","",1,"btn-group",3,"dropup"],["id","button-dropup","dropdownToggle","","type","button","aria-controls","dropdown-dropup",1,"fa","fa-bars","fa-2x"],["id","dropdown-dropup","class","dropdown-menu","role","menu","aria-labelledby","button-dropup",4,"dropdownMenu"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0","text-center"],[1,"border","p-3","form",3,"formGroup"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-4","d-flex","justify-content-center"],["type","text","placeholder","N\xb0 Tramite","formControlName","idDocTramite","maxlength","30",1,"form-control"],["type","text","placeholder","DNI Estudiante","formControlName","dni","maxlength","8","oninput","process(this)","minlength","8",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-search"],[4,"ngIf"],["class","nav nav-tabs","id","myTab","role","tablist",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-static-name",1,"modal","fade"],["modalHistory","bs-modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","dialog-static-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","dropdown-dropup","role","menu","aria-labelledby","button-dropup",1,"dropdown-menu"],["role","menuitem","id","activarNotificaciones",3,"click"],[1,"dropdown-item"],[1,"fas","fa-bell","fa-2x"],["role","menuitem","id","guardar",3,"click"],[1,"fas","fa-save","fa-2x"],["role","menuitem","id","historial",3,"click"],[1,"fas","fa-history","fa-2x"],["id","minlengthTramite","class","text-left",4,"ngIf"],["id","reqlengthTramite","class","text-left",4,"ngIf"],["id","minlengthTramite",1,"text-left"],["id","reqlengthTramite",1,"text-left"],["id","minLenghtDNI","class","text-left",4,"ngIf"],["id","reqDNI","class","text-left",4,"ngIf"],["id","minLenghtDNI",1,"text-left"],["id","reqDNI",1,"text-left"],[1,"row","multi-steps-wrap"],[1,"list-unstyled","multi-steps"],[1,"job-status","job-created",3,"ngClass"],[1,"job-status",3,"ngClass"],["class","job-status job-completed ",3,"ngClass",4,"ngIf"],[1,"job-status","job-closed",3,"ngClass"],[1,"job-status","job-completed",3,"ngClass"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"table"],["heading","Detalles","id","tab1"],["heading","Adjuntos","id","tab2"],["heading","Certificado","id","tab3"],["target","_blank",3,"href"],[1,"ni","ni-cloud-download-95"],[1,"ni","ni-paper-diploma"],[1,"history"],[1,"history","text-center"],["role","search",1,"fas","fa-search",3,"click"]],template:function(t,n){if(1&t){var a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA()(),e._UZ(3,"br")(4,"br"),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5),e._UZ(8,"i",6),e.YNc(9,W,16,0,"ul",7),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h2",12),e._uU(15,"Seguimiento Tramites"),e.qZA()(),e.TgZ(16,"form",13)(17,"div",14)(18,"div",15),e._UZ(19,"input",16),e.qZA(),e.TgZ(20,"div",15),e._UZ(21,"input",17),e.qZA(),e.TgZ(22,"div",15)(23,"button",18),e._UZ(24,"i",19),e._uU(25," \xa0Buscar"),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15),e.YNc(28,oe,3,2,"div",20),e.qZA(),e.TgZ(29,"div",15),e.YNc(30,ie,3,2,"div",20),e.qZA(),e._UZ(31,"div",15),e.qZA()(),e._UZ(32,"br"),e.YNc(33,ce,12,10,"div",20),e.YNc(34,fe,35,3,"ul",21),e.qZA()()(),e.TgZ(35,"div",22,23)(37,"div",24)(38,"div",25)(39,"div",26)(40,"h4",27),e._uU(41,"Tramites Guardados"),e.qZA(),e.TgZ(42,"button",28),e.NdJ("click",function(){return e.CHM(a),e.MAs(36).hide()}),e.TgZ(43,"span",29),e._uU(44,"\xd7"),e.qZA()()(),e.TgZ(45,"div")(46,"div",30)(47,"table",31)(48,"thead",32)(49,"tr")(50,"th"),e._uU(51,"N\xb0 Tramite"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"DNI"),e.qZA(),e._UZ(54,"th",33),e.qZA()(),e.TgZ(55,"tbody"),e.YNc(56,he,7,2,"tr",34),e.qZA()()()()()()()()}2&t&&(e.xp6(7),e.Q6J("dropup",!0),e.xp6(9),e.Q6J("formGroup",n.trackingForm),e.xp6(7),e.Q6J("disabled",n.trackingForm.invalid),e.xp6(5),e.Q6J("ngIf",n.trackingForm.controls.idDocTramite.invalid&&n.trackingForm.controls.idDocTramite.touched),e.xp6(2),e.Q6J("ngIf",n.trackingForm.controls.dni.invalid&&n.trackingForm.controls.dni.touched),e.xp6(3),e.Q6J("ngIf",n.detalleOk),e.xp6(1),e.Q6J("ngIf",n.detalleOk),e.xp6(22),e.Q6J("ngForOf",n.listaTramitesGuardados))},directives:[f.TO,f.Mq,f.Hz,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.nD,i.wO,d.O5,d.mk,b.AH,b.wW,d.sg,w.oB],styles:['@charset "UTF-8";.text-left[_ngcontent-%COMP%]{color:red}.col-lg-4[_ngcontent-%COMP%]{padding-bottom:10px}@media (max-width: 576px){.multi-steps-wrap[_ngcontent-%COMP%]{margin:0}}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]{display:table;table-layout:fixed;width:100%}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{counter-increment:stepNum;text-align:center;display:table-cell;position:relative;color:#3cba9f;font-size:12px;z-index:1}.negative[_ngcontent-%COMP%]{border-color:#4b74f8}.observado[_ngcontent-%COMP%]{border-color:#df332d}.finalizado[_ngcontent-%COMP%]{border-color:#15b33c}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:"\\2713";display:block;margin:0 auto 4px;background-color:#fff;width:46px;height:46px;line-height:40px;text-align:center;font-size:25px;border-width:2px;border-style:solid;border-color:#3cba9f;border-radius:50%;font-weight:700!important}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{content:"";height:2px;width:100%;background-color:#3cba9f;position:absolute;top:20px;left:50%;z-index:-1}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child:after{display:none}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child.is-active:before{content:"\\2713"}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child.is-active:before{content:"\\2713"}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.is-active[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#3cba9f}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.negative[_ngcontent-%COMP%]:before{background-color:#4b74f8;border-color:#4b74f8;color:#fff}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.observado[_ngcontent-%COMP%]:before{background-color:#df332d;border-color:#df332d;color:#fff}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.finalizado[_ngcontent-%COMP%]:before{background-color:#15b33c;border-color:#15b33c;color:#fff}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.is-active[_ngcontent-%COMP%] ~ li[_ngcontent-%COMP%]{color:gray}.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] > li.is-active[_ngcontent-%COMP%] ~ li[_ngcontent-%COMP%]:before{background-color:#eee;border-color:#fff}#hamburgerButton[_ngcontent-%COMP%]{padding:12px 16px;background:linear-gradient(87deg,#f5365c 0,#f56036 100%)!important;position:fixed;bottom:25px;left:35px;border-radius:50%;z-index:1100}#hamburgerButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f5f5f5!important}#dropdown-dropup[_ngcontent-%COMP%]{background:transparent!important;position:fixed;border-color:transparent!important;border-left-width:33px;padding-left:0;border-bottom-width:45px;padding-bottom:0;padding-top:0}#dropdown-dropup[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:8px;border-radius:50%;background:linear-gradient(87deg,#f5365c 0,#f56036 100%)!important}.dropdown-item[_ngcontent-%COMP%]{color:#3991e9!important;font-weight:700!important;font-size:.95rem!important;background:transparent!important}.dropdown-menu[_ngcontent-%COMP%]{box-shadow:none!important}li[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{cursor:pointer}.history[_ngcontent-%COMP%]{padding:8px!important}']}),o}()},{path:"login",component:S,canActivate:[y]},{path:"change-password",component:G,canActivate:[z.C]}],we=s(1520),be=s(8567),Te=s(1321),Ze=function(){var o=(0,g.Z)(function r(){(0,m.Z)(this,r)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,w.zk.forRoot(),b.P4.forRoot(),p.Bz.forChild(_e),i.u5,we.IJ,i.UX,be.JX,Te.ii.forRoot(),f.mr.forRoot()]]}),o}()}}]);