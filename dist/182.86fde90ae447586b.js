"use strict";(self.webpackChunksky_calendar_app=self.webpackChunksky_calendar_app||[]).push([[182],{5182:function(An,k,l){l.r(k),l.d(k,{AuthLayoutModule:function(){return On}});var p=l(3144),f=l(5671),h=l(4035),m=l(9808),a=l(2382),P=l(4244),_=l(7556),n=l(4893),A=new P.N0,q=function(){var t=function(){function r(e,o){(0,f.Z)(this,r),this.router=e,this.authService=o}return(0,p.Z)(r,[{key:"canActivate",value:function(){if(console.log("Auth Guard Check Login"),null===localStorage.getItem("user"))return localStorage.clear(),!0;if(A.decodeToken(JSON.parse(localStorage.getItem("user")).token.firstLogin))return localStorage.clear(),!0;switch(console.log("El rol es ",this.authService.getItemToken("role")),this.authService.getItemToken("role")){case"admin":console.log("Entre aca admin"),this.router.navigate(["/calendar-admin"]);break;case"viewer":console.log("Entre aca viewer"),this.router.navigate(["/calendar-view"])}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.LFG(h.F0),n.LFG(_.e))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),F=l(7757),y=l.n(F),w=l(5020),I=l(5226),N=l.n(I),b=l(2290);function M(t,r){1&t&&(n.TgZ(0,"small",30),n._uU(1," Debe ingresar un Email valido"),n.qZA())}function J(t,r){1&t&&(n.TgZ(0,"small",31),n._uU(1," Se requiere ingresar Email"),n.qZA())}function S(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,M,2,0,"small",28),n.YNc(2,J,2,0,"small",29),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.email),n.xp6(1),n.Q6J("ngIf",null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.required)}}function L(t,r){1&t&&(n.TgZ(0,"small",34),n._uU(1," La longitud minima es 6 caracteres"),n.qZA())}function E(t,r){1&t&&(n.TgZ(0,"small",35),n._uU(1," Se requiere ingresar password"),n.qZA())}function Y(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,L,2,0,"small",32),n.YNc(2,E,2,0,"small",33),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.required)}}var Q=function(){var t=function(){function r(e,o,i,s){(0,f.Z)(this,r),this.authService=e,this.fb=o,this.router=i,this.toastrService=s,this.show_button=!1,this.show_eye=!1,this.test={username:"TEST",password:"TEST"}}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){localStorage.clear(),this.crearFormularioLogin()}},{key:"showPassword",value:function(){this.show_button=!this.show_button,this.show_eye=!this.show_eye}},{key:"crearFormularioLogin",value:function(){this.loginForm=this.fb.group({username:new a.NI("",[a.kI.required,a.kI.email,a.kI.minLength(6),a.kI.maxLength(50)]),password:new a.NI("",[a.kI.required,a.kI.minLength(6)])})}},{key:"onLogin",value:function(){var o=this;this.authService.login(this.loginForm.value).subscribe({next:function(c){c.message==w.s.MENSAJE_OK?c.firstLogin?o.alertFirstLogin():o.router.navigate("admin"==c.role?["/calendar-admin"]:["/calendar-view"]):o.toastrService.error(c.message,"Error",{timeOut:3e3})},error:function(c){o.toastrService.error("Error al logearse"+c,"Error",{timeOut:3e3})}})}},{key:"alertFirstLogin",value:function(){var o=this;N().fire({title:"Es su primer login",text:"Se recomienda cambiar su contrase\xf1a",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(i){i.isConfirmed?o.router.navigate(["/change-password"]):localStorage.clear()})}},{key:"fingeprintloggin",value:function(){return function(t,r,e,o){return new(e||(e=Promise))(function(s,c){function u(d){try{g(o.next(d))}catch(x){c(x)}}function C(d){try{g(o.throw(d))}catch(x){c(x)}}function g(d){d.done?s(d.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(d.value).then(u,C)}g((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,y().mark(function o(){return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("Finger Print");case 1:case"end":return s.stop()}},o)}))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.Y36(_.e),n.Y36(a.qu),n.Y36(h.F0),n.Y36(b._W))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:40,vars:7,consts:[[1,"header","bg-primary","py-7","py-lg-8"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"container","mt--8","pb-5"],[1,"col-lg-5","col-md-7"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-header","bg-transparent","pb-5"],[1,"card-body","px-lg-5","py-lg-5"],[1,"text-center","text-muted","mb-4"],["role","form",3,"formGroup"],[1,"form-group","mb-3"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-email-83"],["formControlName","username","maxlength","50","placeholder","Email","type","email",1,"form-control"],[4,"ngIf"],[1,"form-group"],[1,"ni","ni-lock-circle-open"],["formControlName","password","placeholder","Password",1,"form-control",3,"type"],["id","showPassword",1,"input-group-prepend","pointer",3,"click"],["id","eye"],[1,"text-center"],["type","submit",1,"btn","btn-primary","my-4",3,"disabled","click"],[1,"btn","btn-primary","my-4",3,"click"],["id","validEmail","class","text-left",4,"ngIf"],["id","requiredEmail","class","text-left",4,"ngIf"],["id","validEmail",1,"text-left"],["id","requiredEmail",1,"text-left"],["id","minLenghtPass","class","text-left",4,"ngIf"],["id","requiredPass","class","text-left",4,"ngIf"],["id","minLenghtPass",1,"text-left"],["id","requiredPass",1,"text-left"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),n._uU(6,"Bienvenido!"),n.qZA()()()()()(),n.TgZ(7,"div",6)(8,"div",3)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"p"),n._uU(15,"Ingrese sus credenciales"),n.qZA()(),n.TgZ(16,"form",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"span",16),n._UZ(21,"i",17),n.qZA()(),n._UZ(22,"input",18),n.qZA(),n.YNc(23,S,3,2,"div",19),n.qZA(),n.TgZ(24,"div",20)(25,"div",14)(26,"div",15)(27,"span",16),n._UZ(28,"i",21),n.qZA()(),n._UZ(29,"input",22),n.TgZ(30,"div",23),n.NdJ("click",function(){return o.showPassword()}),n.TgZ(31,"span",16),n._UZ(32,"i",24),n.qZA()()(),n.YNc(33,Y,3,2,"div",19),n.qZA(),n.TgZ(34,"div",25)(35,"button",26),n.NdJ("click",function(){return o.onLogin()}),n._uU(36,"Ingresar"),n.qZA(),n._UZ(37,"br"),n.TgZ(38,"button",27),n.NdJ("click",function(){return o.fingeprintloggin()}),n._uU(39,"FingerPrint Loggin"),n.qZA()()()()()()()()()),2&e&&(n.xp6(16),n.Q6J("formGroup",o.loginForm),n.xp6(7),n.Q6J("ngIf",o.loginForm.controls.username.invalid&&o.loginForm.controls.username.touched),n.xp6(6),n.Q6J("type",o.show_button?"text":"password"),n.xp6(3),n.Tol(o.show_eye?"ni fa fa-eye":"ni fa fa-eye-slash"),n.xp6(1),n.Q6J("ngIf",o.loginForm.controls.password.invalid&&o.loginForm.controls.password.touched),n.xp6(2),n.Q6J("disabled",o.loginForm.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.nD,m.O5],styles:[".text-left[_ngcontent-%COMP%] {\n  color: red;\n}\n\n.pointer[_ngcontent-%COMP%] {\n  cursor: pointer !important;\n}"]}),t}();function D(t,r){1&t&&(n.TgZ(0,"small",35),n._uU(1," La longitud minima es 6 caracteres"),n.qZA())}function j(t,r){1&t&&(n.TgZ(0,"small",36),n._uU(1," Se requiere ingresar contrase\xf1a actual"),n.qZA())}function R(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,D,2,0,"small",33),n.YNc(2,j,2,0,"small",34),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.oldPassword.errors?null:e.changePasswordForm.controls.oldPassword.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.oldPassword.errors?null:e.changePasswordForm.controls.oldPassword.errors.required)}}function B(t,r){1&t&&(n.TgZ(0,"small",39),n._uU(1," La longitud minima es 6 caracteres "),n.qZA())}function H(t,r){1&t&&(n.TgZ(0,"small",40),n._uU(1," Se requiere ingresar nueva contrase\xf1a "),n.qZA())}function G(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,B,2,0,"small",37),n.YNc(2,H,2,0,"small",38),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.newPassword.errors?null:e.changePasswordForm.controls.newPassword.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.newPassword.errors?null:e.changePasswordForm.controls.newPassword.errors.required)}}function z(t,r){1&t&&(n.TgZ(0,"small",43),n._uU(1," La longitud minima es 6 caracteres"),n.qZA())}function V(t,r){1&t&&(n.TgZ(0,"small",44),n._uU(1," Se requiere ingresar confirmar nueva contrase\xf1a"),n.qZA())}function K(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,z,2,0,"small",41),n.YNc(2,V,2,0,"small",42),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.confirmedPassword.errors?null:e.changePasswordForm.controls.confirmedPassword.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.changePasswordForm.controls.confirmedPassword.errors?null:e.changePasswordForm.controls.confirmedPassword.errors.required)}}function $(t,r){1&t&&(n.TgZ(0,"div")(1,"small",45),n._uU(2," La nueva contrase\xf1a y confirmacion contrase\xf1a no coinciden"),n.qZA()())}new P.N0;var X=function(){var t=function(){function r(e,o,i,s){(0,f.Z)(this,r),this.authService=e,this.fb=o,this.router=i,this.toastrService=s,this.diferent=!1,this.show_button=[!1,!1,!1],this.show_eye=[!1,!1,!1]}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){this.crearFormChangePassword()}},{key:"crearFormChangePassword",value:function(){this.changePasswordForm=this.fb.group({oldPassword:new a.NI("",[a.kI.required,a.kI.minLength(6)]),newPassword:new a.NI("",[a.kI.required,a.kI.minLength(6)]),confirmedPassword:new a.NI("",[a.kI.required,a.kI.minLength(6)])})}},{key:"showPassword",value:function(o){switch(o){case 0:this.show_button[0]=!this.show_button[0],this.show_eye[0]=!this.show_eye[0];break;case 1:this.show_button[1]=!this.show_button[1],this.show_eye[1]=!this.show_eye[1];break;case 2:this.show_button[2]=!this.show_button[2],this.show_eye[2]=!this.show_eye[2]}}},{key:"onChangePassword",value:function(){var o=this;this.diferent=!1,this.changePasswordForm.value.newPassword===this.changePasswordForm.value.confirmedPassword?this.authService.changePassword(this.changePasswordForm.value).subscribe({next:function(s){if(s.message==w.s.MENSAJE_OK)if(o.authService.getItemToken("firstLogin"))o.authService.logout(),o.router.navigate(["/login"]),o.toastrService.success("Se cambio con exitosa la contrase\xf1a","Exito",{timeOut:3e3});else switch(o.toastrService.success("Se cambio con exitosa la contrase\xf1a","Exito",{timeOut:3e3}),o.authService.getItemToken("role")){case"admin":o.router.navigate(["/calendar-admin"]);break;case"estudiante":o.router.navigate(["/calendar-view"])}else o.toastrService.error(s.message,"Error",{timeOut:3e3})},error:function(s){o.toastrService.error("Error al cambiar contrase\xf1a "+s,"Error",{timeOut:5e3})}}):this.diferent=!0}},{key:"retrocederFirstLogin",value:function(){if(this.authService.getItemToken("firstLogin"))this.authService.logout(),this.router.navigate(["/login"]);else switch(this.authService.getItemToken("role")){case"admin":this.router.navigate(["/calendar-admin"]);break;case"viewer":this.router.navigate(["/calendar-view"])}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.Y36(_.e),n.Y36(a.qu),n.Y36(h.F0),n.Y36(b._W))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-change-password"]],decls:53,vars:15,consts:[[1,"header","bg-primary","py-7","py-lg-8"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"separator","separator-bottom","separator-skew","zindex-100"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-default"],[1,"container","mt--8","pb-5"],[1,"col-lg-6","col-md-8"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-body","px-lg-5","py-lg-5"],["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group","input-group-alternative","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ni","ni-lock-circle-open"],["formControlName","oldPassword","placeholder","Contrase\xf1a Actual",1,"form-control",3,"type"],["id","showOldPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeOldPassword"],[4,"ngIf"],["formControlName","newPassword","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"type"],["id","showNewPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeNewPassword"],[1,"input-group","input-group-alternative"],["formControlName","confirmedPassword","placeholder","Confirme Nueva Contrase\xf1a",1,"form-control",3,"type"],["id","showConfirmPassword",1,"input-group-prepend","pointer",3,"click"],["id","eyeConfirmPassword"],[1,"text-center"],["id","atras","type","button",1,"btn","btn-secondary","mt-4",3,"click"],["type","submit",1,"btn","btn-primary","mt-4",3,"disabled"],["id","msgOldPasswordMin","class","text-left",4,"ngIf"],["id","msgOldPasswordReq","class","text-left",4,"ngIf"],["id","msgOldPasswordMin",1,"text-left"],["id","msgOldPasswordReq",1,"text-left"],["id","msgNewPassMin","class","text-left",4,"ngIf"],["id","msgNewPassReq","class","text-left",4,"ngIf"],["id","msgNewPassMin",1,"text-left"],["id","msgNewPassReq",1,"text-left"],["id","msgConfirPassMin","class","text-left",4,"ngIf"],["id","msgConfirPassReq","class","text-left",4,"ngIf"],["id","msgConfirPassMin",1,"text-left"],["id","msgConfirPassReq",1,"text-left"],["id","samePass",1,"text-left"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"strong")(6,"h1",5),n._uU(7,"Cambio de Contrase\xf1a"),n.qZA()()()()()(),n.TgZ(8,"div",6),n.O4$(),n.TgZ(9,"svg",7),n._UZ(10,"polygon",8),n.qZA()()(),n.kcU(),n.TgZ(11,"div",9)(12,"div",3)(13,"div",10)(14,"div",11)(15,"div",12)(16,"form",13),n.NdJ("ngSubmit",function(){return o.onChangePassword()}),n.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"span",17),n._UZ(21,"i",18),n.qZA()(),n._UZ(22,"input",19),n.TgZ(23,"div",20),n.NdJ("click",function(){return o.showPassword(0)}),n.TgZ(24,"span",17),n._UZ(25,"i",21),n.qZA()()(),n.YNc(26,R,3,2,"div",22),n.qZA(),n.TgZ(27,"div",14)(28,"div",15)(29,"div",16)(30,"span",17),n._UZ(31,"i",18),n.qZA()(),n._UZ(32,"input",23),n.TgZ(33,"div",24),n.NdJ("click",function(){return o.showPassword(1)}),n.TgZ(34,"span",17),n._UZ(35,"i",25),n.qZA()()(),n.YNc(36,G,3,2,"div",22),n.qZA(),n.TgZ(37,"div",14)(38,"div",26)(39,"div",16)(40,"span",17),n._UZ(41,"i",18),n.qZA()(),n._UZ(42,"input",27),n.TgZ(43,"div",28),n.NdJ("click",function(){return o.showPassword(2)}),n.TgZ(44,"span",17),n._UZ(45,"i",29),n.qZA()()(),n.YNc(46,K,3,2,"div",22),n.qZA(),n.YNc(47,$,3,0,"div",22),n.TgZ(48,"div",30)(49,"button",31),n.NdJ("click",function(){return o.retrocederFirstLogin()}),n._uU(50,"Atras"),n.qZA(),n.TgZ(51,"button",32),n._uU(52,"Cambiar Contrase\xf1a"),n.qZA()()()()()()()()),2&e&&(n.xp6(16),n.Q6J("formGroup",o.changePasswordForm),n.xp6(6),n.Q6J("type",o.show_button[0]?"text":"password"),n.xp6(3),n.Tol(o.show_eye[0]?"ni fa fa-eye":"ni fa fa-eye-slash"),n.xp6(1),n.Q6J("ngIf",o.changePasswordForm.controls.oldPassword.invalid&&o.changePasswordForm.controls.oldPassword.touched),n.xp6(6),n.Q6J("type",o.show_button[1]?"text":"password"),n.xp6(3),n.Tol(o.show_eye[1]?"ni fa fa-eye":"ni fa fa-eye-slash"),n.xp6(1),n.Q6J("ngIf",o.changePasswordForm.controls.newPassword.invalid&&o.changePasswordForm.controls.newPassword.touched),n.xp6(6),n.Q6J("type",o.show_button[2]?"text":"password"),n.xp6(3),n.Tol(o.show_eye[2]?"ni fa fa-eye":"ni fa fa-eye-slash"),n.xp6(1),n.Q6J("ngIf",o.changePasswordForm.controls.confirmedPassword.invalid&&o.changePasswordForm.controls.confirmedPassword.touched),n.xp6(1),n.Q6J("ngIf",o.diferent),n.xp6(4),n.Q6J("disabled",o.changePasswordForm.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,m.O5],styles:[".text-left[_ngcontent-%COMP%] {\n  color: red;\n}"]}),t}(),W=l(6951),nn=l(7762),T=l(1134),en=l(5904),tn=l(2340),on=l(6165),v=l(8274),Z=l(1793);function rn(t,r){if(1&t){var e=n.EpF();n.TgZ(0,"ul",35)(1,"li",36),n.NdJ("click",function(){return n.CHM(e),n.oxw().suscribeToNotifications()}),n.TgZ(2,"a",37),n._UZ(3,"i",38),n.TgZ(4,"span"),n._uU(5,"Activar notificaciones"),n.qZA()()(),n.TgZ(6,"li",39),n.NdJ("click",function(){return n.CHM(e),n.oxw().saveTracking()}),n.TgZ(7,"a",37),n._UZ(8,"i",40),n.TgZ(9,"span"),n._uU(10,"Guardar Tramite"),n.qZA()()(),n.TgZ(11,"li",41),n.NdJ("click",function(){return n.CHM(e),n.oxw().listHistory()}),n.TgZ(12,"a",37),n._UZ(13,"i",42),n.TgZ(14,"span"),n._uU(15,"Ver historial"),n.qZA()()()()}}function an(t,r){1&t&&(n.TgZ(0,"small",45),n._uU(1," La longitud minima es 14 caracteres"),n.qZA())}function sn(t,r){1&t&&(n.TgZ(0,"small",46),n._uU(1," Se requiere ingresar N\xb0 Tramite para seguimiento"),n.qZA())}function ln(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,an,2,0,"small",43),n.YNc(2,sn,2,0,"small",44),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.trackingForm.controls.idDocTramite.errors?null:e.trackingForm.controls.idDocTramite.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.trackingForm.controls.idDocTramite.errors?null:e.trackingForm.controls.idDocTramite.errors.required)}}function cn(t,r){1&t&&(n.TgZ(0,"small",49),n._uU(1," La longitud minima es 8 caracteres"),n.qZA())}function dn(t,r){1&t&&(n.TgZ(0,"small",50),n._uU(1," Se requiere ingresar dni para seguimiento"),n.qZA())}function un(t,r){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,cn,2,0,"small",47),n.YNc(2,dn,2,0,"small",48),n.qZA()),2&t){var e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.trackingForm.controls.dni.errors?null:e.trackingForm.controls.dni.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.trackingForm.controls.dni.errors?null:e.trackingForm.controls.dni.errors.required)}}var gn=function(r){return{"job-inprogress is-active observado":r}};function mn(t,r){if(1&t&&(n.TgZ(0,"li",57),n._uU(1," OBSERVADO "),n.qZA()),2&t){var e=n.oxw(2);n.Q6J("ngClass",n.VKq(1,gn,"OBSERVADO"==e.listaDetalles[0].estado))}}var O=function(r){return{"job-inprogress is-active negative":r}},pn=function(r){return{"job-inprogress is-active finalizado":r}};function fn(t,r){if(1&t&&(n.TgZ(0,"div"),n._UZ(1,"br"),n.TgZ(2,"div",51)(3,"ul",52)(4,"li",53),n._uU(5," REGISTRADO "),n.qZA(),n.TgZ(6,"li",54),n._uU(7," PROCESANDO"),n.qZA(),n.YNc(8,mn,2,3,"li",55),n.TgZ(9,"li",56),n._uU(10," FINALIZADO "),n.qZA()()(),n._UZ(11,"br"),n.qZA()),2&t){var e=n.oxw();n.xp6(4),n.Q6J("ngClass",n.VKq(4,O,"REGISTRADO"==e.listaDetalles[0].estado)),n.xp6(2),n.Q6J("ngClass",n.VKq(6,O,"PROCESANDO"==e.listaDetalles[0].estado)),n.xp6(2),n.Q6J("ngIf","OBSERVADO"==e.listaDetalles[0].estado),n.xp6(1),n.Q6J("ngClass",n.VKq(8,pn,"FINALIZADO"==e.listaDetalles[0].estado))}}function hn(t,r){if(1&t&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA()()),2&t){var e=r.$implicit;n.xp6(2),n.Oqu(e.fecha),n.xp6(2),n.Oqu(e.estado),n.xp6(2),n.Oqu(e.observaciones)}}function vn(t,r){if(1&t&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td",33)(4,"a",63),n._UZ(5,"i",64),n.qZA()()()),2&t){var e=r.$implicit;n.xp6(2),n.Oqu(e.FECHA),n.xp6(2),n.s9C("href",e.URL,n.LSH)}}function _n(t,r){if(1&t&&(n.TgZ(0,"tbody"),n.YNc(1,vn,6,2,"tr",34),n.qZA()),2&t){var e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.listaAdjuntos)}}function wn(t,r){if(1&t&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td",33)(4,"a",63),n._UZ(5,"i",65),n.qZA()()()),2&t){var e=r.$implicit;n.xp6(2),n.Oqu(e.fecha),n.xp6(2),n.s9C("href",e.url,n.LSH)}}function bn(t,r){if(1&t&&(n.TgZ(0,"tbody"),n.YNc(1,wn,6,2,"tr",34),n.qZA()),2&t){var e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.listaCertificado)}}function Tn(t,r){if(1&t&&(n.TgZ(0,"ul",58)(1,"tabset",59)(2,"tab",60)(3,"div",30)(4,"table",31)(5,"thead",32)(6,"tr")(7,"th"),n._uU(8,"Fecha"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"Estado"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Observacion"),n.qZA()()(),n.TgZ(13,"tbody"),n.YNc(14,hn,7,3,"tr",34),n.qZA()()()(),n.TgZ(15,"tab",61)(16,"div",30)(17,"table",31)(18,"thead",32)(19,"tr")(20,"th"),n._uU(21,"Fecha"),n.qZA(),n.TgZ(22,"th"),n._uU(23,"Descargar"),n.qZA()()(),n.YNc(24,_n,2,1,"tbody",20),n.qZA()()(),n.TgZ(25,"tab",62)(26,"div",30)(27,"table",31)(28,"thead",32)(29,"tr")(30,"th"),n._uU(31,"Fecha"),n.qZA(),n.TgZ(32,"th"),n._uU(33,"Descargar"),n.qZA()()(),n.YNc(34,bn,2,1,"tbody",20),n.qZA()()()()()),2&t){var e=n.oxw();n.xp6(14),n.Q6J("ngForOf",e.listaDetalles),n.xp6(10),n.Q6J("ngIf",e.adjuntoOk),n.xp6(10),n.Q6J("ngIf",e.certificadoOk)}}function Zn(t,r){if(1&t){var e=n.EpF();n.TgZ(0,"tr")(1,"td",66),n._uU(2),n.qZA(),n.TgZ(3,"td",66),n._uU(4),n.qZA(),n.TgZ(5,"td",67)(6,"i",68),n.NdJ("click",function(){var c=n.CHM(e).$implicit;return n.oxw().searchHistory(c)}),n.qZA()()()}if(2&t){var o=r.$implicit;n.xp6(2),n.Oqu(o.id_est_doc),n.xp6(2),n.Oqu(o.dni)}}var xn=[{path:"tracking",component:function(){var t=function(){function r(e,o,i,s,c){(0,f.Z)(this,r),this.fb=e,this.servicios=o,this.toastrService=i,this.swPush=s,this.route=c,this.listaAdjuntos=[],this.listaCertificado=[],this.adjuntoOk=!1,this.certificadoOk=!1,this.detalleOk=!1,this.listaTramitesGuardados=[]}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){this.crearFormularioTracking(),this.suscribirClickPush()}},{key:"crearFormularioTracking",value:function(){this.trackingForm=this.fb.group({idDocTramite:new a.NI("",[a.kI.required,a.kI.minLength(14)]),dni:new a.NI("",[a.kI.required,a.kI.minLength(8),a.kI.maxLength(8)])})}},{key:"formatData",value:function(o,i){return{id_est_doc:i,tokenPush:o}}},{key:"suscribirClickPush",value:function(){var o=this;this.route.queryParams.subscribe(function(i){void 0!==typeof i.idDocTramite&&void 0!==typeof i.dni&&0!==Object.entries(i).length&&(o.trackingForm.controls.idDocTramite.setValue(i.idDocTramite),o.trackingForm.controls.dni.setValue(i.dni))})}},{key:"saveTracking",value:function(){this.detalleOk?this.trackingForm.valid?(this.addEntry(),this.suscribeToNotifications()):this.toastrService.error("Los valores ingresados deben ser validos","Error",{timeOut:5e3}):this.toastrService.error("Debe realizar una busqueda para guardar el tramite","Error",{timeOut:5e3})}},{key:"suscribeToNotifications",value:function(){var o=this;console.log("suscribeToNotifications"),this.swPush.requestSubscription({serverPublicKey:tn.N.VAPID_PUBLIC_KEY}).then(function(i){console.log("Request Tokens Subscription"),o.saveNotification(i)}).catch(function(i){console.log("Error al suscribirse",i),o.toastrService.error("Sucedio un error al suscribirse ","Error",{timeOut:5e3})})}},{key:"addEntry",value:function(){var o=JSON.parse(localStorage.getItem("tracking"));null==o&&(o=[]),o.push({id_est_doc:this.trackingForm.value.idDocTramite,dni:this.trackingForm.value.dni});var s={};o=o.filter(function(c){var u=!s[c.id_est_doc];return s[c.id_est_doc]=!0,u}),console.log("existen "+o),localStorage.setItem("tracking",JSON.stringify(o)),this.toastrService.success("Se guardo su tramite","Exito",{timeOut:5e3})}},{key:"saveNotification",value:function(o){var i=this,s=JSON.parse(localStorage.getItem("tracking"));if(null!==s){var u,c=(0,nn.Z)(s);try{for(c.s();!(u=c.n()).done;)this.servicios.saveUserNotification(this.formatData(o,u.value.id_est_doc)).subscribe({next:function(d){d.message==w.s.MENSAJE_OK?i.toastrService.success("Las notificaciones fueron habilitadas exitosamente","Exito",{timeOut:5e3}):i.toastrService.error("Sucedio un error al suscribir sus notificaciones","Error",{timeOut:5e3})},error:function(d){i.toastrService.error("Sucedio un error al suscribir sus notificaciones "+d,"Error",{timeOut:5e3})}})}catch(g){c.e(g)}finally{c.f()}}}},{key:"listHistory",value:function(){this.modalHistory.show(),this.listaTramitesGuardados=JSON.parse(localStorage.getItem("tracking"))}},{key:"searchHistory",value:function(o){this.trackingForm.controls.idDocTramite.setValue(o.id_est_doc),this.trackingForm.controls.dni.setValue(o.dni)}},{key:"limpiarTabla",value:function(){this.adjuntoOk=!1,this.certificadoOk=!1,this.detalleOk=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.qu),n.Y36(en.C),n.Y36(b._W),n.Y36(on.Mk),n.Y36(h.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-tracking"]],viewQuery:function(e,o){var i;1&e&&n.Gf(T.oB,5),2&e&&n.iGM(i=n.CRH())&&(o.modalHistory=i.first)},decls:57,vars:8,consts:[[1,"header","bg-primary","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],["id","hamburgerButton"],["dropdown","",1,"btn-group",3,"dropup"],["id","button-dropup","dropdownToggle","","type","button","aria-controls","dropdown-dropup",1,"fa","fa-bars","fa-2x"],["id","dropdown-dropup","class","dropdown-menu","role","menu","aria-labelledby","button-dropup",4,"dropdownMenu"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0","text-center"],[1,"border","p-3","form",3,"formGroup"],[1,"row","d-flex","justify-content-center"],[1,"col-lg-4","d-flex","justify-content-center"],["type","text","placeholder","N\xb0 Tramite","formControlName","idDocTramite","maxlength","30",1,"form-control"],["type","text","placeholder","DNI Estudiante","formControlName","dni","maxlength","8","oninput","process(this)","minlength","8",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-search"],[4,"ngIf"],["class","nav nav-tabs","id","myTab","role","tablist",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-static-name",1,"modal","fade"],["modalHistory","bs-modal"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","dialog-static-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"thead-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","dropdown-dropup","role","menu","aria-labelledby","button-dropup",1,"dropdown-menu"],["role","menuitem","id","activarNotificaciones",3,"click"],[1,"dropdown-item"],[1,"fas","fa-bell","fa-2x"],["role","menuitem","id","guardar",3,"click"],[1,"fas","fa-save","fa-2x"],["role","menuitem","id","historial",3,"click"],[1,"fas","fa-history","fa-2x"],["id","minlengthTramite","class","text-left",4,"ngIf"],["id","reqlengthTramite","class","text-left",4,"ngIf"],["id","minlengthTramite",1,"text-left"],["id","reqlengthTramite",1,"text-left"],["id","minLenghtDNI","class","text-left",4,"ngIf"],["id","reqDNI","class","text-left",4,"ngIf"],["id","minLenghtDNI",1,"text-left"],["id","reqDNI",1,"text-left"],[1,"row","multi-steps-wrap"],[1,"list-unstyled","multi-steps"],[1,"job-status","job-created",3,"ngClass"],[1,"job-status",3,"ngClass"],["class","job-status job-completed ",3,"ngClass",4,"ngIf"],[1,"job-status","job-closed",3,"ngClass"],[1,"job-status","job-completed",3,"ngClass"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"table"],["heading","Detalles","id","tab1"],["heading","Adjuntos","id","tab2"],["heading","Certificado","id","tab3"],["target","_blank",3,"href"],[1,"ni","ni-cloud-download-95"],[1,"ni","ni-paper-diploma"],[1,"history"],[1,"history","text-center"],["role","search",1,"fas","fa-search",3,"click"]],template:function(e,o){if(1&e){var i=n.EpF();n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"div",2),n.qZA()(),n._UZ(3,"br")(4,"br"),n.TgZ(5,"div",3)(6,"div",4)(7,"div",5),n._UZ(8,"i",6),n.YNc(9,rn,16,0,"ul",7),n.qZA()(),n.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h2",12),n._uU(15,"Seguimiento Tramites"),n.qZA()(),n.TgZ(16,"form",13)(17,"div",14)(18,"div",15),n._UZ(19,"input",16),n.qZA(),n.TgZ(20,"div",15),n._UZ(21,"input",17),n.qZA(),n.TgZ(22,"div",15)(23,"button",18),n._UZ(24,"i",19),n._uU(25," \xa0Buscar"),n.qZA()()(),n.TgZ(26,"div",14)(27,"div",15),n.YNc(28,ln,3,2,"div",20),n.qZA(),n.TgZ(29,"div",15),n.YNc(30,un,3,2,"div",20),n.qZA(),n._UZ(31,"div",15),n.qZA()(),n._UZ(32,"br"),n.YNc(33,fn,12,10,"div",20),n.YNc(34,Tn,35,3,"ul",21),n.qZA()()(),n.TgZ(35,"div",22,23)(37,"div",24)(38,"div",25)(39,"div",26)(40,"h4",27),n._uU(41,"Tramites Guardados"),n.qZA(),n.TgZ(42,"button",28),n.NdJ("click",function(){return n.CHM(i),n.MAs(36).hide()}),n.TgZ(43,"span",29),n._uU(44,"\xd7"),n.qZA()()(),n.TgZ(45,"div")(46,"div",30)(47,"table",31)(48,"thead",32)(49,"tr")(50,"th"),n._uU(51,"N\xb0 Tramite"),n.qZA(),n.TgZ(52,"th"),n._uU(53,"DNI"),n.qZA(),n._UZ(54,"th",33),n.qZA()(),n.TgZ(55,"tbody"),n.YNc(56,Zn,7,2,"tr",34),n.qZA()()()()()()()()}2&e&&(n.xp6(7),n.Q6J("dropup",!0),n.xp6(9),n.Q6J("formGroup",o.trackingForm),n.xp6(7),n.Q6J("disabled",o.trackingForm.invalid),n.xp6(5),n.Q6J("ngIf",o.trackingForm.controls.idDocTramite.invalid&&o.trackingForm.controls.idDocTramite.touched),n.xp6(2),n.Q6J("ngIf",o.trackingForm.controls.dni.invalid&&o.trackingForm.controls.dni.touched),n.xp6(3),n.Q6J("ngIf",o.detalleOk),n.xp6(1),n.Q6J("ngIf",o.detalleOk),n.xp6(22),n.Q6J("ngForOf",o.listaTramitesGuardados))},directives:[v.TO,v.Mq,v.Hz,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.nD,a.wO,m.O5,m.mk,Z.AH,Z.wW,m.sg,T.oB],styles:['@charset "UTF-8";\n.text-left[_ngcontent-%COMP%] {\n  color: red;\n}\n.col-lg-4[_ngcontent-%COMP%] {\n  padding-bottom: 10px;\n}\n@media (max-width: 576px) {\n  .multi-steps-wrap[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%] {\n  display: table;\n  table-layout: fixed;\n  width: 100%;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] {\n  counter-increment: stepNum;\n  text-align: center;\n  display: table-cell;\n  position: relative;\n  color: #3cba9f;\n  font-size: 12px;\n  z-index: 1;\n}\n.negative[_ngcontent-%COMP%] {\n  border-color: #4b74f8;\n}\n.observado[_ngcontent-%COMP%] {\n  border-color: #df332d;\n}\n.finalizado[_ngcontent-%COMP%] {\n  border-color: #15b33c;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:before {\n  content: "\u2713";\n  display: block;\n  margin: 0 auto 4px;\n  background-color: #fff;\n  width: 46px;\n  height: 46px;\n  line-height: 40px;\n  text-align: center;\n  font-size: 25px;\n  border-width: 2px;\n  border-style: solid;\n  border-color: #3cba9f;\n  border-radius: 50%;\n  font-weight: bold !important;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:after {\n  content: "";\n  height: 2px;\n  width: 100%;\n  background-color: #3cba9f;\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  z-index: -1;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:last-child:after {\n  display: none;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:last-child.is-active:before {\n  content: "\u2713";\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:first-child.is-active:before {\n  content: "\u2713";\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.is-active[_ngcontent-%COMP%]:before {\n  background-color: #fff;\n  border-color: #3cba9f;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.negative[_ngcontent-%COMP%]:before {\n  background-color: #4b74f8;\n  border-color: #4b74f8;\n  color: white;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.observado[_ngcontent-%COMP%]:before {\n  background-color: #df332d;\n  border-color: #df332d;\n  color: white;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.finalizado[_ngcontent-%COMP%]:before {\n  background-color: #15b33c;\n  border-color: #15b33c;\n  color: white;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.is-active[_ngcontent-%COMP%]    ~ li[_ngcontent-%COMP%] {\n  color: #808080;\n}\n.multi-steps-wrap[_ngcontent-%COMP%]   .multi-steps[_ngcontent-%COMP%]    > li.is-active[_ngcontent-%COMP%]    ~ li[_ngcontent-%COMP%]:before {\n  background-color: #eee;\n  border-color: #fff;\n}\n#hamburgerButton[_ngcontent-%COMP%] {\n  padding: 12px 16px;\n  background: linear-gradient(87deg, #f5365c 0, #f56036 100%) !important;\n  position: fixed;\n  bottom: 25px;\n  left: 35px;\n  border-radius: 50%;\n  z-index: 1100;\n}\n#hamburgerButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: whitesmoke !important;\n}\n#dropdown-dropup[_ngcontent-%COMP%] {\n  background: transparent !important;\n  position: fixed;\n  border-color: transparent !important;\n  border-left-width: 33px;\n  padding-left: 0px;\n  border-bottom-width: 45px;\n  padding-bottom: 0px;\n  padding-top: 0px;\n}\n#dropdown-dropup[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  padding: 8px;\n  border-radius: 50%;\n  background: linear-gradient(87deg, #f5365c 0, #f56036 100%) !important;\n}\n.dropdown-item[_ngcontent-%COMP%] {\n  color: #3991e9 !important;\n  font-weight: bold !important;\n  font-size: 0.95rem !important;\n  background: transparent !important;\n}\n\n.dropdown-menu[_ngcontent-%COMP%] {\n  box-shadow: none !important;\n}\nli[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\ni[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n.history[_ngcontent-%COMP%] {\n  padding: 8px !important;\n}']}),t}()},{path:"login",component:Q,canActivate:[q]},{path:"change-password",component:X,canActivate:[W.C]}],kn=l(1520),Pn=l(8567),yn=l(1321),On=function(){var t=(0,p.Z)(function r(){(0,f.Z)(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[m.ez,T.zk.forRoot(),Z.P4.forRoot(),h.Bz.forChild(xn),a.u5,kn.IJ,a.UX,Pn.JX,yn.ii.forRoot(),v.mr.forRoot()]]}),t}()}}]);